<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Grid Pathfinding</title>
    <link rel="stylesheet" href="style.css" />
</head>

<body>
    <div class="main-container">
        <!-- Grid (Left Side) -->
        <div class="grid-container">
            <canvas id="gridCanvas"></canvas>
        </div>

        <!-- Controls (Right Side) -->
        <div class="controls">
            <h1>ğŸŒŠ Grid Pathfinding</h1>

            <label for="gridSize">ğŸ§© Grid Size (40â€“200):</label>
            <input type="number" id="gridSize" min="40" max="200" value="40" />
            <button onclick="initGrid()">ğŸ¯ Apply Grid Size</button>



            <div class="control-columns">
                <div class="column">
                    <button onclick="setMode('source')">ğŸš¢ Set Source</button>
                    <button onclick="setMode('destination')">ğŸ Set Destination</button>
                    <div class="obstacle-dropdown">
                        <button class="dropdown-toggle" onclick="toggleObstacleDropdown()">ğŸŒ‹ Set Obstacle</button>
                        <div class="dropdown-menu" id="obstacleDropdown">
                            <button onclick="setObstacleType('island')">ğŸï¸ Island (Cost: 10)</button>
                            <button onclick="setObstacleType('reef')">ğŸª¸ Reef (Cost: 3)</button>
                            <button onclick="setObstacleType('rock')">ğŸª¨ Rock (Cost: 6)</button>
                        </div>
                    </div>
                    <button onclick="generateObstacles()">ğŸ² Generate Obstacles</button>
                    <button onclick="toggleReturnPath()" id="toggleReturnPath">ğŸ” Show Return Path</button>
                    <button onclick="saveGrid()">ğŸ’¾ Save</button>
                </div>
                <div class="column">
                    <button onclick="setMode('remove')">âŒ Remove</button>
                    <button onclick="findPath()">ğŸ§­ Find Path</button>
                    <button onclick="clearGrid()">ğŸ§¹ Clear Grid</button>
                    <button onclick="replayPaths()">â–¶ï¸ Replay Path</button>
                    <button onclick="loadGrid()">ğŸ“‚ Load</button>
                    <input type="file" id="loadInput" style="display: none;" onchange="handleLoad(event)" />
                </div>
            </div>

            <label>
                <input type="checkbox" id="allowDiagonal" checked />
                ğŸ”„ Allow Diagonal Movement
            </label>

            <label for="weather">ğŸŒ¦ï¸ Weather:</label>
            <select id="weather" onchange="updateWeather()">
                <option value="none">None</option>
                <option value="rain">ğŸŒ§ï¸ Rain</option>
                <option value="storm">ğŸŒ©ï¸ Storm</option>
            </select>

            <p>ğŸš¢ Sources: <span id="sourceCount">0</span></p>
            <p>ğŸ Destinations: <span id="destinationCount">0</span></p>
            <p>ğŸª¨ Obstacles: <span id="obstacleCount">0</span></p>
            <p>ğŸ“ Paths: <span id="pathCount">0</span></p><br>

            <p>Path Cost: <span id="pathCost">0</span></p>
        </div>
    </div>

    <script src="script.js"></script>
</body>

</html>
